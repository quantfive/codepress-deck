import { jsx as _jsx } from "react/jsx-runtime";
import * as React from "react";
import * as PopoverPrimitive from "@radix-ui/react-popover";
import { cn } from "../../lib/utils.js";
import { usePortalContainer } from "@/context/PortalContext";
const Popover = PopoverPrimitive.Root;
const PopoverTrigger = PopoverPrimitive.Trigger;
const DEFAULT_Z = "z-[10050]";
const DEFAULT_SIDE_OFFSET = 28;
const PopoverContent = React.forwardRef(({ className, align = "center", sideOffset = DEFAULT_SIDE_OFFSET, container, // explicit override if provided
...props }, ref) => {
    // Prefer context container (inside shadow root); fall back to explicit; finally default.
    const ctxContainer = usePortalContainer();
    const portalContainer = ctxContainer ?? container;
    return (_jsx(PopoverPrimitive.Portal, { container: portalContainer ?? undefined, children: _jsx(PopoverPrimitive.Content, { ref: ref, align: align, sideOffset: sideOffset, className: cn("relative w-72 rounded-xl bg-white p-4 text-popover-foreground", "shadow-xl outline-none ring-1 ring-black/5", DEFAULT_Z, "data-[state=open]:animate-in data-[state=closed]:animate-out", "data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0", "data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95", "data-[side=bottom]:slide-in-from-top-2", "data-[side=left]:slide-in-from-right-2", "data-[side=right]:slide-in-from-left-2", "data-[side=top]:slide-in-from-bottom-2", className), ...props }) }));
});
PopoverContent.displayName = PopoverPrimitive.Content.displayName;
const PopoverAnchor = PopoverPrimitive.Anchor;
export { Popover, PopoverTrigger, PopoverContent, PopoverAnchor };
