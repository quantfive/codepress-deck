import log from "loglevel";
import { IS_DEVELOPMENT } from "@/lib/env";
// Configure logger based on environment
console.log("isDevelopment", IS_DEVELOPMENT);
// Set log level based on environment
log.setLevel(IS_DEVELOPMENT ? log.levels.DEBUG : log.levels.SILENT);
// Enable colors and prefixes for better readability in development
if (IS_DEVELOPMENT) {
    const originalFactory = log.methodFactory;
    log.methodFactory = (methodName, logLevel, loggerName) => {
        const rawMethod = originalFactory(methodName, logLevel, loggerName);
        return (...args) => {
            const timestamp = new Date().toISOString().slice(11, 23);
            const prefix = `[${timestamp}] [${methodName.toUpperCase()}]`;
            rawMethod(prefix, ...args);
        };
    };
    log.rebuild();
}
export const logger = log;
export default logger;
